import { PrismaService } from '../../../prisma/prisma.service';
import { AmortizationService } from './amortization.service';
import { AccountingService } from '../../accounting/accounting.service';
import { CreateLoanProductDto, CreateLoanApplicationDto, RepayLoanDto } from '../dto/loan.dto';
export declare class LoansService {
    private prisma;
    private amortizationService;
    private accountingService;
    constructor(prisma: PrismaService, amortizationService: AmortizationService, accountingService: AccountingService);
    createProduct(dto: CreateLoanProductDto): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        minAmount: import("@prisma/client/runtime/library").Decimal;
        maxAmount: import("@prisma/client/runtime/library").Decimal | null;
        minInterest: import("@prisma/client/runtime/library").Decimal;
        maxInterest: import("@prisma/client/runtime/library").Decimal | null;
        interestType: import(".prisma/client").$Enums.InterestType;
        periodicity: import(".prisma/client").$Enums.Periodicity;
        active: boolean;
    }>;
    getProducts(): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        minAmount: import("@prisma/client/runtime/library").Decimal;
        maxAmount: import("@prisma/client/runtime/library").Decimal | null;
        minInterest: import("@prisma/client/runtime/library").Decimal;
        maxInterest: import("@prisma/client/runtime/library").Decimal | null;
        interestType: import(".prisma/client").$Enums.InterestType;
        periodicity: import(".prisma/client").$Enums.Periodicity;
        active: boolean;
    }[]>;
    createApplication(userId: string, dto: CreateLoanApplicationDto): Promise<{
        id: string;
        updatedAt: Date;
        clientId: string;
        productId: string;
        amount: import("@prisma/client/runtime/library").Decimal;
        interestRate: import("@prisma/client/runtime/library").Decimal;
        duration: number;
        accountNumber: string | null;
        status: import(".prisma/client").$Enums.LoanStatus;
        approvedAt: Date | null;
        disbursedAt: Date | null;
        principalDisbursed: import("@prisma/client/runtime/library").Decimal | null;
        principalPaid: import("@prisma/client/runtime/library").Decimal;
        interestPaid: import("@prisma/client/runtime/library").Decimal;
        outstandingBalance: import("@prisma/client/runtime/library").Decimal;
        loanOfficerId: string | null;
        submittedAt: Date;
        approvedById: string | null;
        disbursedById: string | null;
    }>;
    getLoan(id: string): Promise<{
        client: {
            id: string;
            firstName: string;
            lastName: string | null;
            createdAt: Date;
            updatedAt: Date;
            type: import(".prisma/client").$Enums.ClientType;
            status: import(".prisma/client").$Enums.ClientStatus;
            externalId: string | null;
            companyName: string | null;
            dateOfBirth: Date | null;
            phone: string | null;
            address: string | null;
            photoUrl: string | null;
            managedById: string | null;
        };
        product: {
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            minAmount: import("@prisma/client/runtime/library").Decimal;
            maxAmount: import("@prisma/client/runtime/library").Decimal | null;
            minInterest: import("@prisma/client/runtime/library").Decimal;
            maxInterest: import("@prisma/client/runtime/library").Decimal | null;
            interestType: import(".prisma/client").$Enums.InterestType;
            periodicity: import(".prisma/client").$Enums.Periodicity;
            active: boolean;
        };
        repaymentSchedules: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.RepaymentStatus;
            principalPaid: import("@prisma/client/runtime/library").Decimal;
            interestPaid: import("@prisma/client/runtime/library").Decimal;
            dueDate: Date;
            loanId: string;
            installmentNumber: number;
            principalDue: import("@prisma/client/runtime/library").Decimal;
            interestDue: import("@prisma/client/runtime/library").Decimal;
            feeDue: import("@prisma/client/runtime/library").Decimal;
            penaltyDue: import("@prisma/client/runtime/library").Decimal;
            totalDue: import("@prisma/client/runtime/library").Decimal;
            feePaid: import("@prisma/client/runtime/library").Decimal;
            penaltyPaid: import("@prisma/client/runtime/library").Decimal;
            paidDate: Date | null;
        }[];
        transactions: {
            id: string;
            createdAt: Date;
            type: string;
            description: string | null;
            amount: import("@prisma/client/runtime/library").Decimal;
            loanId: string | null;
            transactionDate: Date;
            externalId: string | null;
            savingAccountId: string | null;
        }[];
    } & {
        id: string;
        updatedAt: Date;
        clientId: string;
        productId: string;
        amount: import("@prisma/client/runtime/library").Decimal;
        interestRate: import("@prisma/client/runtime/library").Decimal;
        duration: number;
        accountNumber: string | null;
        status: import(".prisma/client").$Enums.LoanStatus;
        approvedAt: Date | null;
        disbursedAt: Date | null;
        principalDisbursed: import("@prisma/client/runtime/library").Decimal | null;
        principalPaid: import("@prisma/client/runtime/library").Decimal;
        interestPaid: import("@prisma/client/runtime/library").Decimal;
        outstandingBalance: import("@prisma/client/runtime/library").Decimal;
        loanOfficerId: string | null;
        submittedAt: Date;
        approvedById: string | null;
        disbursedById: string | null;
    }>;
    approveLoan(id: string, userId: string): Promise<{
        id: string;
        updatedAt: Date;
        clientId: string;
        productId: string;
        amount: import("@prisma/client/runtime/library").Decimal;
        interestRate: import("@prisma/client/runtime/library").Decimal;
        duration: number;
        accountNumber: string | null;
        status: import(".prisma/client").$Enums.LoanStatus;
        approvedAt: Date | null;
        disbursedAt: Date | null;
        principalDisbursed: import("@prisma/client/runtime/library").Decimal | null;
        principalPaid: import("@prisma/client/runtime/library").Decimal;
        interestPaid: import("@prisma/client/runtime/library").Decimal;
        outstandingBalance: import("@prisma/client/runtime/library").Decimal;
        loanOfficerId: string | null;
        submittedAt: Date;
        approvedById: string | null;
        disbursedById: string | null;
    }>;
    disburseLoan(id: string, userId: string): Promise<{
        id: string;
        updatedAt: Date;
        clientId: string;
        productId: string;
        amount: import("@prisma/client/runtime/library").Decimal;
        interestRate: import("@prisma/client/runtime/library").Decimal;
        duration: number;
        accountNumber: string | null;
        status: import(".prisma/client").$Enums.LoanStatus;
        approvedAt: Date | null;
        disbursedAt: Date | null;
        principalDisbursed: import("@prisma/client/runtime/library").Decimal | null;
        principalPaid: import("@prisma/client/runtime/library").Decimal;
        interestPaid: import("@prisma/client/runtime/library").Decimal;
        outstandingBalance: import("@prisma/client/runtime/library").Decimal;
        loanOfficerId: string | null;
        submittedAt: Date;
        approvedById: string | null;
        disbursedById: string | null;
    }>;
    repayLoan(id: string, dto: RepayLoanDto, userId: string): Promise<{
        message: string;
        remainingAmount: number;
    }>;
}
